@page "/movies/{id:int}/chat"

@namespace Movies.BlazorWeb.Infrastructure.Pages.Chats

<AuthorizeView>
    <Authorized>
        <h3>MovieChat</h3>

        @if (messages == null)
        {
            <p>Loading...</p>
        }
        else
        {
            <ul level="0">
                @foreach (var message in messages)
                {
                    <Message ChatMessage="@message" OnReplyCallback="GetMessageToReply" Level=1 />
                }
            </ul>
            <input @bind="@comment.Message" />
            <button @onclick="PostComment">Submit</button>
        }
    </Authorized>
</AuthorizeView>